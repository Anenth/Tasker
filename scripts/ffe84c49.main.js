"use strict";var TASKER=TASKER||{};TASKER.app=function(){var a="listContainer",b=function(){this.lists=[];document.getElementById(a).addEventListener("dragend",function(a){console.log(a.target.parentNode.attributes[0].nodeValue),console.dir(a.dataTransfer),console.dir(a)},!1),document.getElementById(a).addEventListener("drop",function(a){console.log("droppppppppp"),console.dir(a),console.log(a.dataTransfer.getData("Text"))},!1)};b.prototype.addList=function(a){var b=new c(a);this.lists.push(b)},b.prototype.removeList=function(a){this.lists=this.lists.slice(a,1)},b.prototype.moveTask=function(a,b,c,d){console.log(a,b,c,d)},b.prototype.drawLists=function(){var b,c,d;document.getElementById(a).innerHTML="";for(var e in this.lists)b=document.createElement("div"),c=document.createElement("h1"),b.className="list",c.innerText=this.lists[e].listName,d=this.lists[e].drawTasks(e),b.appendChild(c),b.appendChild(d),document.getElementById(a).appendChild(b)};var c=function(a){this.listName=a,this.tasks=[]};c.prototype.addTask=function(a,b){var c=new d(a,b);this.tasks.push(c)},c.prototype.removeTask=function(a){this.tasks=this.tasks.slice(a,1)},c.prototype.editTask=function(a,b,c){this.tasks[a].edit(b,c)},c.prototype.drawTasks=function(a){var b,c,d,e,f,g,h,i,j=this;i=document.createElement("div"),h=document.createElement("div"),h.className="add btn",h.innerText="add new task",h.onclick=function(){var a=document.createElement("form"),b=document.createElement("input"),c=document.createElement("input"),d=document.createElement("button");b.type="text",c.type="text",b.placeholder="Task name",c.placeholder="Task description",d.innerText="Add",d.className="btn",a.onsubmit=function(d){d.preventDefault(),j.addTask(b.value,c.value),a.parentNode.removeChild(a)},a.appendChild(b),a.appendChild(c),a.appendChild(d),i.appendChild(a)},b=document.createElement("ul");for(var k in this.tasks)c=document.createElement("li"),d=document.createElement("h2"),e=document.createElement("p"),f=document.createElement("a"),g=document.createElement("a"),f.className="delete",g.className="edit",c.setAttribute("data-index",k),c.draggable="true",c.setAttribute("data-name",this.tasks[k].name),c.setAttribute("data-desc",this.tasks[k].description),d.innerText=this.tasks[k].name,e.innerText=this.tasks[k].description,f.innerText="x",g.innerText="e",f.onclick=function(){j.removeTask(this.parentNode.getAttribute("data-index")),this.parentNode.style.display="none"},g.onclick=function(){alert("TODO")},c.appendChild(d),c.appendChild(e),c.appendChild(g),c.appendChild(f),b.appendChild(c);return b.setAttribute("data-listIndex",a),i.appendChild(b),i.appendChild(h),i};var d=function(a,b){this.name=a,this.description=b};d.prototype.edit=function(a,b){this.name=a,this.description=b};!function(){var a=new b;document.getElementById("addNewList").onclick=function(){document.getElementById("addNewListForm").style.display="block",document.getElementById("addNewListForm").onsubmit=function(b){b.preventDefault(),a.addList(document.getElementById("input_listName").value),document.getElementById("addNewListForm").style.display="none",document.getElementById("input_listName").value="",a.drawLists()}}}()}();